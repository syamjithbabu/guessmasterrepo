{% extends 'agent/partials/base.html' %}
{% load static %}
{% block content %}

<style>
    th, td{
        text-align: center;
    }
</style>

<div id="main-content">
    <div class="container-fluid">
        <div class="block-header">
            <div class="row">
                <div class="col-lg-5 col-md-8 col-sm-12">
                    <h2><a href="javascript:void(0);" class="btn btn-xs btn-link btn-toggle-fullwidth"><i
                                class="fa fa-arrow-left"></i></a> View Result</h2>
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a href="{% url 'agent:index' %}"><i class="icon-home"></i></a>
                        </li>
                        <li class="breadcrumb-item">View Result</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="body">
                <form method="POST">
                {% csrf_token %}
                <div class="row clearfix">
                    <div class="col-md-6 col-6">
                        <div class="form-group">
                            <label for="date" class="control-label">Date</label>
                            <input type="date" class="form-control" id="date" name="date">
                        </div>
                    </div>
                    <div class="col-md-6 col-6">
                        <div class="form-group">
                            <label for="time" class="control-label">Time</label>
                            <select class="form-control show-tick ms select2" data-placeholder="Select"
                                name="time" id="time">
                                <option value="all">All Times</option>
                                {% for time in times %}
                                <option value="{{time.id}}">{{time.game_time}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-6 col-6">
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary">Search</button>
                        </div>
                    </div>
                </div>
                </form>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-6 col-md-12 col-sm-12">
                <div class="card">
                    <div class="body table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Position</th>
                                    <th>Number</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="l-pink">
                                    <td>First</td>
                                    <td>{{results.first}}</td>
                                </tr>
                                <tr class="l-turquoise">
                                    <td>Second</td>
                                    <td>{{results.second}}</td>
                                </tr>
                                <tr class="l-parpl">
                                    <td>Third</td>
                                    <td>{{results.third}}</td>
                                </tr>
                                <tr class="l-blue">
                                    <td>Fourth</td>
                                    <td>{{results.fourth}}</td>
                                </tr>
                                <tr class="l-blue">
                                    <td>Fifth</td>
                                    <td>{{results.fifth}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-lg-12">
                <div class="card">
                    <div class="body table-responsive">
                        <table class="table table-striped">
                            <tbody>
                                <tr>
                                    <td>{{results.field1}}</td>
                                    <td>{{results.field2}}</td>
                                    <td>{{results.field3}}</td>
                                    <td>{{results.field4}}</td>
                                    <td>{{results.field5}}</td>
                                    <td>{{results.field6}}</td>
                                </tr>
                                <tr>
                                    <td>{{results.field7}}</td>
                                    <td>{{results.field8}}</td>
                                    <td>{{results.field9}}</td>
                                    <td>{{results.field10}}</td>
                                    <td>{{results.field11}}</td>
                                    <td>{{results.field12}}</td>
                                </tr>
                                <tr>
                                    <td>{{results.field13}}</td>
                                    <td>{{results.field14}}</td>
                                    <td>{{results.field15}}</td>
                                    <td>{{results.field16}}</td>
                                    <td>{{results.field17}}</td>
                                    <td>{{results.field18}}</td>
                                </tr>
                                <tr>
                                    <td>{{results.field19}}</td>
                                    <td>{{results.field20}}</td>
                                    <td>{{results.field21}}</td>
                                    <td>{{results.field22}}</td>
                                    <td>{{results.field23}}</td>
                                    <td>{{results.field24}}</td>
                                </tr>
                                <tr>
                                    <td>{{results.field25}}</td>
                                    <td>{{results.field26}}</td>
                                    <td>{{results.field27}}</td>
                                    <td>{{results.field28}}</td>
                                    <td>{{results.field29}}</td>
                                    <td>{{results.field30}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        // Get the current date in the format "YYYY-MM-DD"
        function getCurrentDate() {
            const now = new Date();
            const year = now.getFullYear();
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const day = now.getDate().toString().padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        var selectedDate = "{{selected_date}}";
        console.log(selectedDate)
        // Check if selected_from and selected_to are defined
        if (selectedDate) {
            document.getElementById('date').value = selectedDate;
        } else {
            document.getElementById('date').value = getCurrentDate();
        }
    </script>

    <script>
        var inputs = document.querySelectorAll('.auto-focus');

        inputs.forEach(function (input, index) {
            input.addEventListener('input', function () {
                var value = input.value;

                if (value.length === 3) {
                    // Move focus to the next input field
                    if (index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                }
            });
        });
    </script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var selectTime = document.getElementById("time");
        selectTime.value = "{{ results.time.id }}";
    })
</script>




    {% endblock %}